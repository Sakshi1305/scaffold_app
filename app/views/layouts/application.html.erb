<!DOCTYPE html>
<html>
  <head>
    <title>ScaffoldApp</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <style>
      #post_container{
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
      }
    </style>
  </head>

  <body>
    <%#= yield %>
    <div id="post_container">
    </div>

    <script type="text/javascript">
      function displaypost(post_title, post_body, post_user_id) {
        var SinglePostContainer = document.createElement("div");
        var title = document.createElement("h1");
        var body = document.createElement("p");
        var userId = document.createElement("p");


        title.innerHTML = post_title;
        body.innerHTML = post_body;
        userId.innerHTML = post_user_id;

        SinglePostContainer.append(title)
        SinglePostContainer.append(body)
        SinglePostContainer.append(userId)

        document.getElementById("post_container").append(SinglePostContainer);
      };


      fetch('https://jsonplaceholder.typicode.com/posts')
        .then(response => response.json())
        .then(data =>{
          data.map((post) =>{
            displaypost(post.title, post.body, post.userId)
          })
      })

    </script>
  </body>
</html>
